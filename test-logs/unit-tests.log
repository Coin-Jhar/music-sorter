[34m[2025-03-06 15:32:14] [INFO] Starting Music Sorter test suite...[0m
[34m[2025-03-06 15:32:14] [INFO] Setting up test environment...[0m
[32m[2025-03-06 15:32:14] [SUCCESS] Test environment set up successfully.[0m
[34m[2025-03-06 15:32:14] [INFO] Testing FileOperations...[0m
[34m[2025-03-06 15:32:14] [INFO] Found 5 files in source directory.[0m
Copied: artist1_album1_track1.mp3 -> /data/data/com.termux/files/home/storage/music/Telegram/sorted-music/subdir/nested/artist1_album1_track1.mp3
[31m[2025-03-06 15:32:14] [ERROR] FileOperations tests failed: Failed to copy file to /data/data/com.termux/files/home/projects/music-sorter/test-env/target/subdir/nested/artist1_album1_track1.mp3.[0m
[34m[2025-03-06 15:32:14] [INFO] Testing MetadataService...[0m
[34m[2025-03-06 15:32:14] [INFO] Extracted metadata for 5 files.[0m
[32m[2025-03-06 15:32:14] [SUCCESS] MetadataService tests passed![0m
[34m[2025-03-06 15:32:14] [INFO] Testing MusicSorter...[0m
[31m[2025-03-06 15:32:14] [ERROR] MusicSorter tests failed: this.musicSorter.setProgressCallback is not a function[0m
[34m[2025-03-06 15:32:14] [INFO] Testing SettingsManager...[0m
[34m[2025-03-06 15:32:14] [INFO] Settings loaded from /data/data/com.termux/files/home/.music-sorter.json[0m
[34m[2025-03-06 15:32:14] [INFO] Settings loaded successfully[0m
[34m[2025-03-06 15:32:14] [INFO] Default settings: {"sourcePath":"/data/data/com.termux/files/home/projects/music-sorter/test-data/source","targetPath":"/data/data/com.termux/files/home/projects/music-sorter/test-data/target","defaultSortPattern":"artist","defaultRenamePattern":"{artist} - {title}","copyByDefault":false,"includeSubfolders":true,"lastModified":1741267934189,"customPatterns":{"rename":["{artist} - {title}","{track} - {artist} - {title}","{artist} - {album} - {track} - {title}"],"sort":[]},"ignorePatterns":["\\.DS_Store$","Thumbs\\.db$","desktop\\.ini$"],"maxConcurrentOperations":50}[0m
[34m[2025-03-06 15:32:14] [INFO] Settings saved to /data/data/com.termux/files/home/.music-sorter.json[0m
[34m[2025-03-06 15:32:15] [INFO] Settings saved to /data/data/com.termux/files/home/.music-sorter.json[0m
[34m[2025-03-06 15:32:15] [INFO] Settings saved to /data/data/com.termux/files/home/.music-sorter.json[0m
[34m[2025-03-06 15:32:15] [INFO] Settings saved to /data/data/com.termux/files/home/.music-sorter.json[0m
[34m[2025-03-06 15:32:15] [INFO] Settings reset to defaults[0m
[32m[2025-03-06 15:32:15] [SUCCESS] SettingsManager tests passed![0m
[34m[2025-03-06 15:32:15] [INFO] Testing error handling...[0m
[34m[2025-03-06 15:32:15] [INFO] Successfully caught AppError.[0m
[32m[2025-03-06 15:32:15] [SUCCESS] Error handling tests passed![0m
[34m[2025-03-06 15:32:15] [INFO] 
===== Test Results =====[0m
[34m[2025-03-06 15:32:15] [INFO] FileOperations: ‚ùå FAIL[0m
[34m[2025-03-06 15:32:15] [INFO] MetadataService: ‚úÖ PASS[0m
[34m[2025-03-06 15:32:15] [INFO] MusicSorter: ‚ùå FAIL[0m
[34m[2025-03-06 15:32:15] [INFO] SettingsManager: ‚úÖ PASS[0m
[34m[2025-03-06 15:32:15] [INFO] Error Handling: ‚úÖ PASS[0m
[34m[2025-03-06 15:32:15] [INFO] 
Overall Result: ‚ùå SOME TESTS FAILED[0m
[34m[2025-03-06 15:32:15] [INFO] Cleaning up test environment...[0m
[32m[2025-03-06 15:32:15] [SUCCESS] Test environment cleaned up successfully.[0m
